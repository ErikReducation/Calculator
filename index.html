<!DOCTYPE html>
<html lang="en">
<head>
	
	<meta charset="utf-8">
	<meta name="description" content="An academic project.">
	<meta name="keywords" content="Calculator">
	<meta name="author" content="Erik Rosenbalm">
	<meta name="viewport" content="width=device-width">  
	<title>Calcutron 5000</title>
	<link href="css/style.css" rel="stylesheet" type="text/css" >

	<!--Margin view. TURN THIS OFF BEFORE PUBLISHING-->
	<!--
	<style>
	div {
		border: double cornflowerblue;
	}
	</style>
	-->
	
</head>
<body>
	<script>
	
	let gameOver = false;
	let done = false;
	do{
	let nums = [];//nums array must be cleared inside the outer loop to prevent numlength from being incorrectly large during second 
		      //round of calculations or later.
	nums[0] = +prompt('Welcome to the calculator. Enter a number.');//get first number using unary plus
	done = false;//makes sure loop is enterable if during second round of calculations or later
	let i=0;//makes sure iterator is zero if during... etc
	do { //get rest of numbers, or all numbers if during... etc
		
		if (prompt(`You entered ${nums[i]}. Enter another y/n?`).toLowerCase() == 'y' ){//choose to add number
			if (prompt(`You entered ${nums.length} numbers, are there more y/n ?`).toLowerCase() == 'y') { //ask if user is sure after being told 
													 //current length of array (number of numbers)
		
			i++;
			nums[i]=+prompt('Enter a number.');//if user is double sure, enters a number in the array of numbers at index i
			} else {//choose to move to operation
				done=true;
			}
		} else {//choose to move to operation
		done=true;
		}	
	} while (done==false)
	let choice = prompt('What Operation would you like to perform +, -, *, / ?');//choose operation
	let result =0;
	switch (choice){
		case '+':
			for (let j = 0; j<nums.length; j++) {
				result = result + nums[j];
			}
			break;
		case '-':
			for (let k = 0; k<nums.length; k++){
				result = result - nums[k];
			}
			break;
		case '*':
			result =1;//wouldn't want to multiply all chosen numbers by 0
			for (let l = 0; l<nums.length; l++){
				result = result * nums[l];
			}
			break;
		case '/':
			if (nums.length!=2){
				alert('Number of operands must be two');
				break;
			} else {
				result = nums[0]/nums[1];
			}
			break;
		default: 
			alert('Not a valid operation');
			break;
	}
	
	let input = prompt(`You entered ${nums.length} numbers. Your answer is ${result}. Would you like to perform another calculation y/n ?`);//ask to do another calc
	if (input.toLowerCase() == 'y') {
		alert(`Let\'s do it!`);
	} else if (input.toLowerCase() == 'n'){
		gameOver = true;
	} else {
		alert('invalid input');
		break;
	}
		
	} while (gameOver==false)
	alert('Thanks for playing!');
	</script>
</body>
</html>
